{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/link-share-pwa/app/context/auth.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useEffect, useState } from 'react'\nimport { supabase } from '../lib/supabase'\nimport { User } from '@supabase/supabase-js'\n\ntype AuthContextType = {\n  user: User | null\n  loading: boolean\n  signOut: () => Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n  signOut: async () => {},\n})\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    // Check active sessions and sets the user\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null)\n      setLoading(false)\n    })\n\n    // Listen for changes on auth state\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null)\n      setLoading(false)\n    })\n\n    return () => subscription.unsubscribe()\n  }, [])\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut()\n    if (error) throw error\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, loading, signOut }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport const useAuth = () => {\n  return useContext(AuthContext)\n} "],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAmB;IACjD,MAAM;IACN,SAAS;IACT,SAAS,WAAa;AACxB;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,0CAA0C;QAC1C,sHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACpD,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAEA,mCAAmC;QACnC,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,sHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YAC1E,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAEA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,UAAU;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,IAAI,OAAO,MAAM;IACnB;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAQ;kBACnD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACpB","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/link-share-pwa/app/components/Auth.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useAuth } from '../context/auth'\nimport { supabase } from '../lib/supabase'\nimport toast from 'react-hot-toast'\n\nexport default function Auth() {\n  const [email, setEmail] = useState('')\n  const [code, setCode] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [codeSent, setCodeSent] = useState(false)\n  const { signIn } = useAuth()\n\n  const handleSendCode = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      setLoading(true)\n      console.log('Sending code to:', email)\n      \n      const response = await fetch('/api/auth/generate-code', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email }),\n      })\n\n      const data = await response.json()\n      \n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to send code')\n      }\n\n      setCodeSent(true)\n      toast.success('Check your email for the verification code!')\n    } catch (error) {\n      console.error('Error sending code:', error)\n      toast.error(error instanceof Error ? error.message : 'Error sending the verification code')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleVerifyCode = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      setLoading(true)\n      console.log('Verifying code for:', email)\n      \n      const response = await fetch('/api/auth/verify-code', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, code }),\n      })\n\n      const data = await response.json()\n      \n      if (!response.ok) {\n        throw new Error(data.error || 'Invalid verification code')\n      }\n\n      toast.success('Successfully verified!')\n    } catch (error) {\n      console.error('Error verifying code:', error)\n      toast.error(error instanceof Error ? error.message : 'Invalid verification code')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-4\">\n      <div className=\"w-full max-w-md space-y-8\">\n        <div>\n          <h2 className=\"text-center text-3xl font-bold tracking-tight\">\n            Sign in to LinkShare\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            No password needed - we'll send you a verification code\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={codeSent ? handleVerifyCode : handleSendCode}>\n          <div className=\"-space-y-px rounded-md shadow-sm\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"relative block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                disabled={codeSent}\n              />\n            </div>\n            {codeSent && (\n              <div className=\"mt-4\">\n                <label htmlFor=\"code\" className=\"sr-only\">\n                  Verification code\n                </label>\n                <input\n                  id=\"code\"\n                  name=\"code\"\n                  type=\"text\"\n                  required\n                  className=\"relative block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                  placeholder=\"Enter verification code\"\n                  value={code}\n                  onChange={(e) => setCode(e.target.value)}\n                />\n              </div>\n            )}\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Processing...' : codeSent ? 'Verify Code' : 'Send Code'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/link-share-pwa/app/components/Dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { User } from '@supabase/supabase-js'\nimport { useState } from 'react'\nimport { useAuth } from '../context/auth'\nimport toast from 'react-hot-toast'\n\ninterface DashboardProps {\n  user: User\n}\n\nexport default function Dashboard({ user }: DashboardProps) {\n  const [url, setUrl] = useState('')\n  const { signOut } = useAuth()\n  \n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    // TODO: Implement URL submission\n    toast.success('URL added successfully!')\n    setUrl('')\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-2xl font-bold\">Welcome, {user.email}</h1>\n        <button\n          onClick={() => signOut()}\n          className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n        >\n          Sign Out\n        </button>\n      </div>\n\n      <div className=\"max-w-2xl mx-auto\">\n        <form onSubmit={handleSubmit} className=\"mb-8\">\n          <div className=\"flex gap-2\">\n            <input\n              type=\"url\"\n              value={url}\n              onChange={(e) => setUrl(e.target.value)}\n              placeholder=\"Enter a URL to share...\"\n              className=\"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\n              required\n            />\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n            >\n              Share\n            </button>\n          </div>\n        </form>\n\n        {/* TODO: Add shared links list */}\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-500 text-center\">No shared links yet</p>\n        </div>\n      </div>\n    </div>\n  )\n} "],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAWe,SAAS,UAAU,EAAE,IAAI,EAAkB;IACxD,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;IAE1B,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,iCAAiC;QACjC,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QACd,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;;4BAAqB;4BAAU,KAAK,KAAK;;;;;;;kCACvD,8OAAC;wBACC,SAAS,IAAM;wBACf,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,UAAU;wBAAc,WAAU;kCACtC,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oCACtC,aAAY;oCACZ,WAAU;oCACV,QAAQ;;;;;;8CAEV,8OAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;kCAOL,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAA4B;;;;;;;;;;;;;;;;;;;;;;;AAKnD","debugId":null}}]
}