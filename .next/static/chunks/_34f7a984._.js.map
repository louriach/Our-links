{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/Documents/GitHub/our-links/app/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nif (!process.env.NEXT_PUBLIC_SUPABASE_URL) {\n  throw new Error('Missing env.NEXT_PUBLIC_SUPABASE_URL')\n}\nif (!process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n  throw new Error('Missing env.NEXT_PUBLIC_SUPABASE_ANON_KEY')\n}\n\nconsole.log('Initializing Supabase client with URL:', process.env.NEXT_PUBLIC_SUPABASE_URL)\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true\n    }\n  }\n) "],"names":[],"mappings":";;;AAEK;AAFL;;AAEA,uCAA2C;;AAE3C;AACA,uCAAgD;;AAEhD;AAEA,QAAQ,GAAG,CAAC;AAEL,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,sUAGjC;IACE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/Documents/GitHub/our-links/app/components/Dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { User } from '@supabase/supabase-js'\nimport { useState, useEffect } from 'react'\nimport { useAuth } from '../context/auth'\nimport { supabase } from '../lib/supabase'\nimport toast from 'react-hot-toast'\nimport { CheckIcon } from '@heroicons/react/24/outline'\n\ninterface DashboardProps {\n  user: User\n}\n\ninterface Link {\n  id: string\n  url: string\n  title: string\n  description: string\n  note: string\n  created_by: string\n  created_at: string\n  updated_at: string\n}\n\ninterface Friend {\n  id: string\n  email: string\n  full_name: string | null\n  avatar_url: string | null\n}\n\ninterface Profile {\n  id: string\n  profile_url: string\n}\n\nexport default function Dashboard({ user }: DashboardProps) {\n  const [url, setUrl] = useState('')\n  const [note, setNote] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [links, setLinks] = useState<Link[]>([])\n  const [friends, setFriends] = useState<Friend[]>([])\n  const [selectedFriends, setSelectedFriends] = useState<string[]>([])\n  const [showFriendSelector, setShowFriendSelector] = useState(false)\n  const [profile, setProfile] = useState<Profile | null>(null)\n  const { signOut } = useAuth()\n\n  useEffect(() => {\n    fetchLinks()\n    fetchFriends()\n    fetchProfile()\n  }, [])\n\n  const fetchLinks = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('links')\n        .select('*')\n        .eq('created_by', user.id)\n        .order('created_at', { ascending: false })\n\n      if (error) throw error\n\n      setLinks(data || [])\n    } catch (error) {\n      console.error('Error fetching links:', error)\n      toast.error('Failed to load links')\n    }\n  }\n\n  const fetchFriends = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('friendships')\n        .select(`\n          friend:profiles!friendships_friend_id_fkey (\n            id,\n            email,\n            full_name,\n            avatar_url\n          )\n        `)\n        .eq('user_id', user.id)\n        .eq('status', 'accepted')\n\n      if (error) throw error\n\n      setFriends(data?.map(f => f.friend) || [])\n    } catch (error) {\n      console.error('Error fetching friends:', error)\n      toast.error('Failed to load friends')\n    }\n  }\n\n  const fetchProfile = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('id, profile_url')\n        .eq('id', user.id)\n        .single()\n\n      if (error) throw error\n\n      setProfile(data)\n    } catch (error) {\n      console.error('Error fetching profile:', error)\n      toast.error('Failed to load profile')\n    }\n  }\n\n  const formatUrl = (url: string) => {\n    // If URL doesn't start with http:// or https://, add https://\n    if (!url.match(/^https?:\\/\\//i)) {\n      return `https://${url}`\n    }\n    return url\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    try {\n      const formattedUrl = formatUrl(url)\n      \n      // First, try to fetch metadata for the URL\n      const response = await fetch('/api/unfurl', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ url: formattedUrl }),\n      })\n\n      const metadata = await response.json()\n      \n      if (!response.ok) {\n        // If metadata fetch fails, still create the link with basic info\n        console.warn('Failed to fetch metadata:', metadata.error)\n        const { data, error } = await supabase\n          .from('links')\n          .insert({\n            created_by: user.id,\n            url: formattedUrl,\n            title: new URL(formattedUrl).hostname,\n            description: '',\n            note: note.trim(),\n          })\n          .select()\n          .single()\n\n        if (error) throw error\n\n        // Share with selected friends\n        if (selectedFriends.length > 0) {\n          const { error: shareError } = await supabase\n            .from('link_shares')\n            .insert(\n              selectedFriends.map(friendId => ({\n                link_id: data.id,\n                shared_with: friendId,\n                shared_by: user.id\n              }))\n            )\n\n          if (shareError) throw shareError\n        }\n\n        toast.success('Link shared successfully!')\n        setUrl('')\n        setNote('')\n        setSelectedFriends([])\n        fetchLinks()\n        return\n      }\n\n      // Create the link with metadata\n      const { data, error } = await supabase\n        .from('links')\n        .insert({\n          created_by: user.id,\n          url: formattedUrl,\n          title: metadata.title || new URL(formattedUrl).hostname,\n          description: metadata.description || '',\n          note: note.trim(),\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n\n      // Share with selected friends\n      if (selectedFriends.length > 0) {\n        const { error: shareError } = await supabase\n          .from('link_shares')\n          .insert(\n            selectedFriends.map(friendId => ({\n              link_id: data.id,\n              shared_with: friendId,\n              shared_by: user.id\n            }))\n          )\n\n        if (shareError) throw shareError\n      }\n\n      toast.success('Link shared successfully!')\n      setUrl('')\n      setNote('')\n      setSelectedFriends([])\n      fetchLinks()\n    } catch (error) {\n      console.error('Error sharing link:', error)\n      toast.error('Failed to share link')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const toggleFriend = (friendId: string) => {\n    setSelectedFriends(prev => \n      prev.includes(friendId)\n        ? prev.filter(id => id !== friendId)\n        : [...prev, friendId]\n    )\n  }\n\n  const copyProfileUrl = async () => {\n    if (!profile?.profile_url) {\n      toast.error('Profile URL not available')\n      return\n    }\n\n    const profileUrl = `${window.location.origin}/p/${profile.profile_url}`\n    try {\n      await navigator.clipboard.writeText(profileUrl)\n      toast.success('Profile URL copied to clipboard!')\n    } catch (err) {\n      toast.error('Failed to copy profile URL')\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-2xl font-bold\">Welcome, {user.email}</h1>\n        <button\n          onClick={() => signOut()}\n          className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n        >\n          Sign Out\n        </button>\n      </div>\n\n      <div className=\"max-w-2xl mx-auto\">\n        <form onSubmit={handleSubmit} className=\"mb-8 space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              value={url}\n              onChange={(e) => setUrl(e.target.value)}\n              placeholder=\"Enter a URL to share (e.g., example.com)\"\n              className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\n              required\n            />\n          </div>\n          <div>\n            <textarea\n              value={note}\n              onChange={(e) => setNote(e.target.value.slice(0, 140))}\n              placeholder=\"Add a note (optional, max 140 characters)\"\n              className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\n              rows={3}\n              maxLength={140}\n            />\n            <div className=\"text-sm text-gray-500 text-right mt-1\">\n              {note.length}/140 characters\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <button\n              type=\"button\"\n              onClick={() => setShowFriendSelector(!showFriendSelector)}\n              className=\"w-full px-4 py-2 text-left text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-md\"\n            >\n              {selectedFriends.length > 0\n                ? `Share with ${selectedFriends.length} friend${selectedFriends.length === 1 ? '' : 's'}`\n                : 'Share with friends'}\n            </button>\n\n            {showFriendSelector && (\n              <div className=\"border border-gray-300 rounded-md p-4 space-y-2\">\n                {friends.length === 0 ? (\n                  <div className=\"text-center space-y-2\">\n                    <p className=\"text-gray-500\">You don't have any friends yet.</p>\n                    <button\n                      type=\"button\"\n                      onClick={copyProfileUrl}\n                      className=\"text-indigo-600 hover:text-indigo-500 text-sm\"\n                    >\n                      Copy your profile URL to share\n                    </button>\n                  </div>\n                ) : (\n                  friends.map(friend => (\n                    <label\n                      key={friend.id}\n                      className=\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer\"\n                    >\n                      <div className=\"flex-shrink-0\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedFriends.includes(friend.id)}\n                          onChange={() => toggleFriend(friend.id)}\n                          className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-900\">\n                          {friend.full_name || friend.email}\n                        </p>\n                      </div>\n                      {selectedFriends.includes(friend.id) && (\n                        <CheckIcon className=\"h-5 w-5 text-indigo-600\" />\n                      )}\n                    </label>\n                  ))\n                )}\n              </div>\n            )}\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50\"\n            >\n              {loading ? 'Sharing...' : 'Share Link'}\n            </button>\n          </div>\n        </form>\n\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-semibold\">Your Shared Links</h2>\n          {links.map((link) => (\n            <div\n              key={link.id}\n              className=\"bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow\"\n            >\n              <a\n                href={link.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-indigo-600 hover:text-indigo-800 font-medium\"\n              >\n                {link.title}\n              </a>\n              {link.note && (\n                <p className=\"text-gray-600 mt-2\">{link.note}</p>\n              )}\n              {link.description && (\n                <p className=\"text-gray-500 text-sm mt-2\">\n                  {link.description}\n                </p>\n              )}\n              <div className=\"text-gray-400 text-sm mt-2\">\n                {new Date(link.created_at).toLocaleDateString()}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/Documents/GitHub/our-links/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from './context/auth'\nimport Dashboard from './components/Dashboard'\n\nexport default function Home() {\n  const { user, session, loading } = useAuth()\n  const router = useRouter()\n  const [isRedirecting, setIsRedirecting] = useState(false)\n\n  console.log('Home: Current state:', { user, session, loading, isRedirecting })\n\n  useEffect(() => {\n    console.log('Home: Effect running with state:', { user, session, loading })\n    \n    if (!loading && !session && !isRedirecting) {\n      console.log('Home: No session, redirecting to login')\n      setIsRedirecting(true)\n      router.push('/auth/login')\n    }\n  }, [session, loading, router, isRedirecting])\n\n  // Show loading spinner during initial load or redirect\n  if (loading || isRedirecting) {\n    console.log('Home: Showing loading spinner')\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600\"></div>\n      </div>\n    )\n  }\n\n  // Show dashboard if we have a session\n  if (session) {\n    console.log('Home: Rendering Dashboard')\n    return <Dashboard user={user!} />\n  }\n\n  // Show nothing if no session (should be handled by redirect)\n  console.log('Home: No session and not redirecting, showing nothing')\n  return null\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IACzC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,QAAQ,GAAG,CAAC,wBAAwB;QAAE;QAAM;QAAS;QAAS;IAAc;IAE5E,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,QAAQ,GAAG,CAAC,oCAAoC;gBAAE;gBAAM;gBAAS;YAAQ;YAEzE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,eAAe;gBAC1C,QAAQ,GAAG,CAAC;gBACZ,iBAAiB;gBACjB,OAAO,IAAI,CAAC;YACd;QACF;yBAAG;QAAC;QAAS;QAAS;QAAQ;KAAc;IAE5C,uDAAuD;IACvD,IAAI,WAAW,eAAe;QAC5B,QAAQ,GAAG,CAAC;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,sCAAsC;IACtC,IAAI,SAAS;QACX,QAAQ,GAAG,CAAC;QACZ,qBAAO,6LAAC,kIAAA,CAAA,UAAS;YAAC,MAAM;;;;;;IAC1B;IAEA,6DAA6D;IAC7D,QAAQ,GAAG,CAAC;IACZ,OAAO;AACT;GApCwB;;QACa,0HAAA,CAAA,UAAO;QAC3B,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/Documents/GitHub/our-links/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///Users/disco_lu/Documents/GitHub/our-links/node_modules/%40heroicons/react/24/outline/esm/CheckIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;"],"names":[],"mappings":";;;AAAA;;AACA,SAAS,UAAU,EACjB,KAAK,EACL,OAAO,EACP,GAAG,OACJ,EAAE,MAAM;IACP,OAAO,WAAW,GAAE,CAAA,GAAA,6JAAA,CAAA,gBAAmB,AAAD,EAAE,OAAO,OAAO,MAAM,CAAC;QAC3D,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,QAAQ;QACR,eAAe;QACf,aAAa;QACb,KAAK;QACL,mBAAmB;IACrB,GAAG,QAAQ,QAAQ,WAAW,GAAE,CAAA,GAAA,6JAAA,CAAA,gBAAmB,AAAD,EAAE,SAAS;QAC3D,IAAI;IACN,GAAG,SAAS,MAAM,WAAW,GAAE,CAAA,GAAA,6JAAA,CAAA,gBAAmB,AAAD,EAAE,QAAQ;QACzD,eAAe;QACf,gBAAgB;QAChB,GAAG;IACL;AACF;AACA,MAAM,aAAa,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAAE;uCACnC","ignoreList":[0],"debugId":null}}]
}